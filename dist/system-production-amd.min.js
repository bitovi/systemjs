/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(__$global){__$global.upgradeSystemLoader=function(){function core(loader){function __eval(__source,__global,__address,__sourceMap){try{__source="with(__global) { (function() { "+__source+" \n }).call(__global); }\n//# sourceURL="+__address+(__sourceMap?"\n//# sourceMappingURL="+__sourceMap:""),eval(__source)}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__address+"\n	"+e.message),e}}!function(){function e(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function t(t,r){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return r=e(r||""),t=e(t||""),r&&t?(r.protocol||t.protocol)+(r.protocol||r.authority?r.authority:t.authority)+n(r.protocol||r.authority||"/"===r.pathname.charAt(0)?r.pathname:r.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+r.pathname:t.pathname)+(r.protocol||r.authority||r.pathname?r.search:r.search||t.search)+r.hash:null}var r=System,n=function(e){if(!(e instanceof Module)){for(var t=[],r=0;r<e.length;r++)t[r]=n(e[r]);return t}return e.__useDefault?e["default"]:e};loader.getModule=function(e){return n(loader.get(e))},loader.set("@empty",Module({}));var a=loader["import"];loader["import"]=function(e,t){return new Promise(function(r){r(loader.normalize.call(this,e,t&&t.name,t&&t.address))}).then(function(e){return Promise.resolve(a.call(loader,e,t)).then(function(e){return n(e)})})};var o;if("undefined"==typeof window)o=__dirname;else if(o=document.baseURI,!o){var s=document.getElementsByTagName("base");o=s[0]&&s[0].href||window.location.href}System.meta={};var l,i=loader.locate;loader.locate=function(e){this.baseURL!=l&&(this.baseURL=l=t(o,this.baseURL));var r=System.meta[e.name];for(var n in r)e.metadata[n]=r[n];return Promise.resolve(i.call(this,e))},loader.__exec=function(e){var n,a=e.source.lastIndexOf("\n");-1!=a&&"//# sourceMappingURL="==e.source.substr(a+1,21)&&(n=t(e.address,e.source.substr(a+22))),__eval(e.source,loader.global,e.address,n),"@traceur"==e.name&&(loader.global.traceurSystem=loader.global.System,loader.global.System=r)}}()}function amdScriptLoader(e){var t=document.getElementsByTagName("head")[0];e.fetch=function(n){return e.defined[n.name]?"":new Promise(function(a,o){var s=document.createElement("script");s.async=!0,s.addEventListener("load",function(){r&&(e.defined[n.name]=r),r=null,a("")},!1),s.addEventListener("error",function(e){o(e)},!1),s.src=n.address,t.appendChild(s)})};var r=null;e.global.define=function(t,n,a){"string"!=typeof t&&(a=n,n=t,t=null),n instanceof Array||(a=n,n=[]),"function"!=typeof a&&(a=function(e){return function(){return e}}(a));for(var o=0;o<n.length;o++)lastIndexOf.call(n,n[o])!=o&&n.splice(o--,1);var s={deps:n,execute:function(){for(var t=[],r=0;r<arguments.length;r++)t.push(e.getModule(arguments[r]));var n=a.apply(this,t);return new e.global.Module(n&&n.__esModule?n:{__useDefault:!0,"default":n})}};t?e.defined[t]=s:r=s},e.global.define.amd={},e.translate=function(){},e.instantiate=function(){return{deps:[],execute:function(){return new Module({})}}};var n=e.requirejs=function(t,r,a,o){if("object"==typeof t&&!(t instanceof Array))return n.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if(!(t instanceof Array)){if("string"==typeof t)return e.getModule(t);throw"Invalid require"}Promise.all(t.map(function(t){return e["import"](t,o)})).then(function(e){return r.apply(this,e)},a)}}function bundles(e){e.bundles=e.bundles||{};var t=e.fetch;e.fetch=function(r){for(var n in e.bundles)if(-1!=indexOf.call(e.bundles[n],r.name))return Promise.resolve(e.normalize(n)).then(function(t){return e.bundles[t]=e.bundles[t]||e.bundles[n],e.load(t)}).then(function(){return""});return t.apply(this,arguments)};var r=e.locate;e.locate=function(t){return e.bundles[t.name]&&(t.metadata.bundle=!0),r.call(this,t)};var n=e.instantiate;e.instantiate=function(t){return t.metadata.bundle?{deps:[],execute:function(){return e.__exec(t),new Module({})}}:n.apply(this,arguments)}}function register(e){e.defined={},e.register=function(t,r,n){e.defined[t]={deps:r,execute:function(){return Module(n.apply(this,arguments))}}};var t=e.fetch;e.fetch=function(r){return e.defined[r.name]?"":t.apply(this,arguments)};var r=e.instantiate;e.instantiate=function(t){if(e.defined[t.name]){var n=e.defined[t.name];return delete e.defined[t.name],n}return r.apply(this,arguments)}}function versions(e){var t=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,r=function(e,t){var r,n=e.split("."),a=t.split(".");n[2]&&-1!=(r=indexOf.call(n[2],"-"))&&n.splice(2,1,n[2].substr(0,r),n[2].substr(r+1)),a[2]&&-1!=(r=indexOf.call(a[2],"-"))&&a.splice(2,1,a[2].substr(0,r),a[2].substr(r+1));for(var o=0;o<Math.max(n.length,a.length);o++){if(!n[o])return 1;if(!a[o])return-1;if(n[o]!=a[o])return parseInt(n[o])>parseInt(a[o])?1:-1}return 0},n=e.normalize;e.versions=e.versions||{},e.normalize=function(a,o,s){var l=e.versions;return Promise.resolve(n.call(this,a,o,s)).then(function(e){var n,a,o,s,i=e.indexOf("@");if(-1==i){for(var u in l)if(s=l[u],e.substr(0,u.length)==u&&(o=e.substr(u.length,1),!o||"/"==o))return u+"@"+("string"==typeof s?s:s[s.length-1])+e.substr(u.length);return e}n=e.substr(i+1).split("/")[0];var c,d=n.length;if("^"==n.substr(0,1)&&(n=n.substr(1),c=!0),a=n.match(t),!a)return e;c&&(a[2]||(c=!1),a[3]||(a[2]>0?a[3]="0":c=!1)),c&&(a[1]>0?(a[2]||(n=a[1]+".0.0"),a[3]||(n=a[1]+".0"),c=n,a=[a[1]]):a[2]>0?(c=n,a=[0,a[2]]):(c=!1,a=[0,0,a[3]]),n=a.join("."));var f=e.substr(0,i);if(s=l[f]||[],"string"==typeof s&&(s=[s]),!a[3]||c)for(var p=s.length-1;p>=0;p--){var m=s[p];if(m.substr(0,n.length)==n&&m.substr(n.length,1).match(/^[\.\-]?$/)&&(!c||c&&-1!=r(m,c)))return f+"@"+m+e.substr(f.length+d+1)}return-1==indexOf.call(s,n)&&(s.push(n),s.sort(r),e=f+"@"+n+e.substr(f.length+d+1),a[3]&&-1!=(i=indexOf.call(s,a[1]+"."+a[2]))&&s.splice(i,1),a[2]&&-1!=(i=indexOf.call(s,a[1]))&&s.splice(i,1),l[f]=1==s.length?s[0]:s),e})}}__$global.upgradeSystemLoader=void 0;var indexOf=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},lastIndexOf=Array.prototype.lastIndexOf||function(e){for(var t=this.length-1;t>=0;t--)if(this[t]===e)return t;return-t};core(System),productionAMD(System),bundles(System),register(System),versions(System),__$global.systemMainEntryPoint&&System["import"](__$global.systemMainEntryPoint)},function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];if(__$global.systemMainEntryPoint=t.getAttribute("data-main"),!__$global.System||__$global.System.registerModule)if("undefined"!=typeof window){var r=t.src,n=r.substr(0,r.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+n+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else{var a=require("es6-module-loader");__$global.System=a.System,__$global.Loader=a.Loader,__$global.Module=a.Module,module.exports=__$global.System,__$global.upgradeSystemLoader()}else __$global.upgradeSystemLoader();var o=t.getAttribute("data-config");o&&document.write('<script type="text/javascript src="'+o+'"></script>')}()}("undefined"!=typeof window?window:global);